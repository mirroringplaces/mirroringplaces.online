<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "en-us" }}">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

  {{ hugo.Generator }}

	<title>{{ .Title }}</title>
	{{ with .Site.Params.description }}<meta name="description" content="{{ . }}">{{ end }}
	{{ with .Site.Params.author }}<meta name="author" content="{{ . }}">{{ end }}

  {{ $sass := resources.Get "sass/style.scss" }}
  {{ $style := $sass | resources.ToCSS | resources.Minify | resources.Fingerprint }}
  <link rel="stylesheet" href="{{ $style.Permalink }}" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <link href="/fonts/ArmWrestler.ttf" type="text/css">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

  {{ template "_internal/twitter_cards.html" . }}
  {{ template "_internal/opengraph.html" . }}

	{{ with .OutputFormats.Get "RSS" -}}
		{{ printf `<link rel="%s" type="%s" href="%s" title="%s">` .Rel .MediaType.Type .RelPermalink $.Site.Title | safeHTML }}
	{{- end }}
</head>
<body>
	{{ partial "header" . }}
    <div id="container">
        <header>
            <a href="index.html">
                <h1>Mirroring Places</h1>
            </a>
            <select id="language-changer">
            {{ range $.Site.Home.AllTranslations }}
              <option value="{{ .Permalink }}"{{ if (eq .Site.LanguageCode .Language.LanguageCode) }} selected {{ end }}>{{ .Language.LanguageName }}</option>
            {{ end }}
            </select>
        </header>

      	{{ block "main" . }}{{ end }}

        <footer>
            <menu>
                {{ $currentPage := . }}
                {{ range .Site.Menus.nav }}
                  {{ $atURL := absURL $currentPage.RelPermalink }}
                  {{ $compURL := absURL .URL }}
                  <a href="{{ .URL }}"{{ if (eq $atURL $compURL) }} class="active"{{ end }}><img src="{{ .Pre }}" alt="{{ .Name }}"></a>
                {{ end }}
            </menu>
        </footer>
    </div>
	{{ partial "footer" . }}
	
	<script type="text/javascript" src="/js/nav.js"></script>
	
</body>
</html>
